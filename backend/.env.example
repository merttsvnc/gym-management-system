# =============================================================================
# Gym Management System - Environment Template (Single Source of Truth)
# =============================================================================
# Copy to .env and fill in values. Never commit .env with real secrets.
# See docs/PRODUCTION_ENV.md for full documentation.
# =============================================================================

# -----------------------------------------------------------------------------
# 1) CORE (required in all environments)
# -----------------------------------------------------------------------------
# dev: development | staging: staging | prod: production
NODE_ENV=development
PORT=3000
DATABASE_URL=postgresql://USER:PASSWORD@HOST:5432/DBNAME?schema=public

# -----------------------------------------------------------------------------
# 2) JWT (all secrets used by the app)
# -----------------------------------------------------------------------------
# Required: JWT_ACCESS_SECRET (min 32 chars). Others required for full auth flows.
# dev: use placeholder or short secrets | staging/prod: use strong random strings
JWT_ACCESS_SECRET=your_jwt_access_secret_min_32_chars_required
JWT_REFRESH_SECRET=your_refresh_secret
JWT_SIGNUP_SECRET=your_signup_secret
JWT_RESET_SECRET=your_reset_secret
JWT_ACCESS_EXPIRES_IN=900s
JWT_REFRESH_EXPIRES_IN=30d

# -----------------------------------------------------------------------------
# 3) AUTH / EMAIL (Resend)
# -----------------------------------------------------------------------------
# dev: false | staging/prod: true (production REQUIRES true)
AUTH_EMAIL_VERIFICATION_ENABLED=false
RESEND_API_KEY=
RESEND_FROM_EMAIL=
# Dev/QA only: fixed OTP code when verification disabled (e.g. 123456)
# AUTH_OTP_DEV_FIXED_CODE=

# -----------------------------------------------------------------------------
# 4) CORS
# -----------------------------------------------------------------------------
# CORS_ORIGINS: comma-separated allowed origins (e.g. web + mobile)
# FRONTEND_URL: single-origin fallback (used when CORS_ORIGINS not set - see main.ts)
# dev: http://localhost:5173 | staging: https://staging.example.com | prod: https://app.example.com
CORS_ORIGINS=http://localhost:5173,https://app.example.com
FRONTEND_URL=http://localhost:5173

# -----------------------------------------------------------------------------
# 5) CRON / FEATURE FLAGS
# -----------------------------------------------------------------------------
# dev/staging: true | prod: true (set false to disable all cron jobs)
CRON_ENABLED=true
APP_VERSION=1.0.0

# -----------------------------------------------------------------------------
# 6) UPLOAD LIMITS
# -----------------------------------------------------------------------------
# dev: 2 | staging/prod: 2 (adjust per requirements)
UPLOAD_MAX_FILE_SIZE_MB=2
UPLOAD_ALLOWED_MIME_TYPES=image/jpeg,image/png,image/webp

# -----------------------------------------------------------------------------
# 7) STORAGE (R2)
# -----------------------------------------------------------------------------
# Omit for local disk storage (dev). Set all for R2 in staging/prod.
# R2_ACCOUNT_ID=
# R2_ACCESS_KEY_ID=
# R2_SECRET_ACCESS_KEY=
# R2_BUCKET_NAME=
# R2_PUBLIC_BASE_URL=

# -----------------------------------------------------------------------------
# 8) RATE LIMITING (optional)
# -----------------------------------------------------------------------------
# Password reset rate limits. Defaults: IP 20/15min, Email 5/15min.
# RESET_START_IP_LIMIT=20
# RESET_START_IP_WINDOW_MS=900000
# RESET_START_EMAIL_LIMIT=5
# RESET_START_EMAIL_WINDOW_MS=900000
